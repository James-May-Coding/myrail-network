<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Dashboard - MyRail</title>
  <link rel="stylesheet" href="style.css">
</head>
<body class="bg-gray-100">
  <header class="flex justify-between items-center bg-white p-4 shadow">
    <h1 class="text-xl font-bold">MyRail Dashboard</h1>
    <button id="logout" class="px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700">Logout</button>
  </header>

  <main class="p-4">
    <section class="mb-6">
      <h2 class="font-bold text-lg mb-2">Invites</h2>
      <div id="invites-container"></div>
    </section>

    <section class="mb-6">
      <h2 class="font-bold text-lg mb-2">Communities</h2>
      <div id="communities-container" class="space-y-2"></div>
      <button id="create-community" class="mt-2 px-3 py-1 bg-green-600 text-white rounded hover:bg-green-700">
        Create Community
      </button>
    </section>

    <section>
      <h2 class="font-bold text-lg mb-2">Trains / Jobs</h2>
      <table class="w-full bg-white rounded shadow">
        <thead class="bg-gray-200">
          <tr>
            <th class="p-2 text-left">Code</th>
            <th class="p-2 text-left">Description</th>
            <th class="p-2 text-left">Direction</th>
            <th class="p-2 text-left">Yard</th>
            <th class="p-2 text-left">Crew</th>
            <th class="p-2 text-left">Action</th>
          </tr>
        </thead>
        <tbody id="trains-body"></tbody>
      </table>
    </section>
  </main>

  <!-- Pop-up for train crew -->
  <div id="train-popup" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
    <div class="bg-white p-4 rounded w-96 max-h-96 overflow-y-auto">
      <h3 class="text-lg font-bold mb-2">Train Crew</h3>
      <div id="train-crew-list"></div>
      <button id="close-popup" class="mt-2 px-3 py-1 bg-red-600 text-white rounded">Close</button>
    </div>
  </div>

  <script type="module" src="supabaseClient.js"></script>
  <script type="module" src="dashboard.js"></script>
</body>
</html>
