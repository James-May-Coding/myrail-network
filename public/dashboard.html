<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>FEC Railways â€” Dashboard</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <header>
    <div style="font-weight:700">ðŸš‚ FEC Railways</div>
    <div id="user-area"><span id="user-info">Loading...</span> <button id="logout-btn" class="btn small">Logout</button></div>
  </header>

  <main class="container">
    <div class="controls">
      <select id="community-dropdown"></select>
      <button id="refresh-communities" class="btn small">Refresh</button>
      <input id="join-code-input" placeholder="Join code" />
      <button id="join-community" class="btn small">Join</button>
      <button id="create-community" class="btn small">Create</button>
    </div>

    <div style="display:flex;gap:18px;">
      <div style="flex:1">
        <h3>Invites</h3>
        <div id="invites-container"></div>
      </div>

      <div style="flex:2">
        <h3>Trains</h3>
        <div class="table-container">
          <table>
            <thead><tr><th>Code</th><th>Description</th><th>Direction</th><th>Yard</th><th>Crew</th><th>Actions</th></tr></thead>
            <tbody id="trains-body"></tbody>
          </table>
        </div>
      </div>
    </div>
  </main>

  <div id="train-popup" class="popup-frame hidden">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
      <strong id="popup-title">Train Crew</strong>
      <button id="close-popup" class="btn small">Close</button>
    </div>
    <div id="train-crew-list"></div>
  </div>

  <div class="footer">FEC Railways â€” Staff Portal</div>

  <script type="module" src="./dashboard.js"></script>
</body>
</html>
